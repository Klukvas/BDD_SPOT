{"name": "Make a internalWithdrawal [BTC-tb1qkttnq44z65020l0vwxq98cnjcu38sv7cmsvs2k]", "status": "failed", "statusDetails": {"message": "ValueError: Can not find operations with status 0 for 15 seconds\nSearched operationId: 7394743a-2168-45be-b134-a48d8be0f96c\nsended_transfer in op hi: [{'operationId': '7394743a-2168-45be-b134-a48d8be0f96c|:|SP-d5caeca8b1a944189dccb899ec1f8fc2', 'operationType': 1, 'assetId': 'BTC', 'timeStamp': '2022-01-06T15:04:41.048453', 'balanceChange': 0, 'newBalance': 0, 'avgOpenPrice': 0, 'assetPriceInUsd': 0, 'status': 1, 'depositInfo': None, 'withdrawalInfo': {'txId': None, 'toAddress': 'tb1qkttnq44z65020l0vwxq98cnjcu38sv7cmsvs2k', 'network': 'fireblocks-btc-test', 'withdrawalAssetId': 'BTC', 'withdrawalAmount': 0.03, 'feeAssetId': None, 'feeAmount': 0, 'isInternal': True}, 'swapInfo': None, 'withdrawalFeeInfo': None, 'receiveByPhoneInfo': None, 'transferByPhoneInfo': None}]", "trace": "request = <FixtureRequest for <Function test_transfer_by_address[BTC-tb1qkttnq44z65020l0vwxq98cnjcu38sv7cmsvs2k]>>\n_pytest_bdd_example = {'address': 'tb1qkttnq44z65020l0vwxq98cnjcu38sv7cmsvs2k', 'assetId': 'BTC'}\n\n    @pytest.mark.usefixtures(*args)\n    def scenario_wrapper(request, _pytest_bdd_example):\n        scenario = templated_scenario.render(_pytest_bdd_example)\n>       _execute_scenario(feature, scenario, request)\n\n.venv/lib/python3.9/site-packages/pytest_bdd/scenario.py:174: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n.venv/lib/python3.9/site-packages/pytest_bdd/scenario.py:144: in _execute_scenario\n    _execute_step_function(request, scenario, step, step_func)\n.venv/lib/python3.9/site-packages/pytest_bdd/scenario.py:114: in _execute_step_function\n    return_value = step_func(**kwargs)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ncreate_withdrawal = [{'operationId': '339', 'requestId': '7394743a-2168-45be-b134-a48d8be0f96c'}, 'BTC', 'tb1qkttnq44z65020l0vwxq98cnjcu38sv7cmsvs2k']\nget_balance = ['3eh9hufCrj5+FFx8UlyQsePUGRpXQyP4rNVYVjXXF7kBoAxWxyrtD0tLkLQHkOxupzD90CyrI4tk3/C3raw+2LxKre19wmXlC6hvTmtmsdYgxAnUz3ml...: 0, 'apr': 0, 'apy': 0, 'assetId': 'LTC', ...}, {'accumulationAmount': 0, 'apr': 0, 'apy': 0, 'assetId': 'USD', ...}]]\n\n    @then('User has new record(withdrawal) in operation history')\n    def operation_history_withdrawal(create_withdrawal, get_balance):\n        counter = 0\n        while True:\n            sleep(12)\n            counter += 1\n            op_history = WalletHistory().operations_history(get_balance[0])\n            assert type(op_history) == list\n            sended_transfer = list(\n                filter(\n                    lambda x: str(create_withdrawal[0]['requestId']) == x['operationId'].split('|')[0],\n                    op_history\n                )\n            )\n            if len(sended_transfer):\n                if sended_transfer[0]['status'] == 0 and \\\n                    sended_transfer[0]['balanceChange'] != 0:\n                    break\n            if counter > 7:\n>               raise ValueError(f'Can not find operations with status 0 for 15 seconds\\nSearched operationId: {create_withdrawal[0][\"requestId\"]}\\nsended_transfer in op hi: {sended_transfer}')\nE               ValueError: Can not find operations with status 0 for 15 seconds\nE               Searched operationId: 7394743a-2168-45be-b134-a48d8be0f96c\nE               sended_transfer in op hi: [{'operationId': '7394743a-2168-45be-b134-a48d8be0f96c|:|SP-d5caeca8b1a944189dccb899ec1f8fc2', 'operationType': 1, 'assetId': 'BTC', 'timeStamp': '2022-01-06T15:04:41.048453', 'balanceChange': 0, 'newBalance': 0, 'avgOpenPrice': 0, 'assetPriceInUsd': 0, 'status': 1, 'depositInfo': None, 'withdrawalInfo': {'txId': None, 'toAddress': 'tb1qkttnq44z65020l0vwxq98cnjcu38sv7cmsvs2k', 'network': 'fireblocks-btc-test', 'withdrawalAssetId': 'BTC', 'withdrawalAmount': 0.03, 'feeAssetId': None, 'feeAmount': 0, 'isInternal': True}, 'swapInfo': None, 'withdrawalFeeInfo': None, 'receiveByPhoneInfo': None, 'transferByPhoneInfo': None}]\n\ntests/test_transfer.py:161: ValueError"}, "steps": [{"name": "Given Some crypto on balance", "status": "passed", "start": 1641481475895, "stop": 1641481477582}, {"name": "When User send BTC to tb1qkttnq44z65020l0vwxq98cnjcu38sv7cmsvs2k", "status": "passed", "start": 1641481477582, "stop": 1641481481918}, {"name": "Then User has new record(withdrawal) in operation history", "status": "failed", "statusDetails": {"message": "Can not find operations with status 0 for 15 seconds\nSearched operationId: 7394743a-2168-45be-b134-a48d8be0f96c\nsended_transfer in op hi: [{'operationId': '7394743a-2168-45be-b134-a48d8be0f96c|:|SP-d5caeca8b1a944189dccb899ec1f8fc2', 'operationType': 1, 'assetId': 'BTC', 'timeStamp': '2022-01-06T15:04:41.048453', 'balanceChange': 0, 'newBalance': 0, 'avgOpenPrice': 0, 'assetPriceInUsd': 0, 'status': 1, 'depositInfo': None, 'withdrawalInfo': {'txId': None, 'toAddress': 'tb1qkttnq44z65020l0vwxq98cnjcu38sv7cmsvs2k', 'network': 'fireblocks-btc-test', 'withdrawalAssetId': 'BTC', 'withdrawalAmount': 0.03, 'feeAssetId': None, 'feeAmount': 0, 'isInternal': True}, 'swapInfo': None, 'withdrawalFeeInfo': None, 'receiveByPhoneInfo': None, 'transferByPhoneInfo': None}]", "trace": "ValueError: Can not find operations with status 0 for 15 seconds\nSearched operationId: 7394743a-2168-45be-b134-a48d8be0f96c\nsended_transfer in op hi: [{'operationId': '7394743a-2168-45be-b134-a48d8be0f96c|:|SP-d5caeca8b1a944189dccb899ec1f8fc2', 'operationType': 1, 'assetId': 'BTC', 'timeStamp': '2022-01-06T15:04:41.048453', 'balanceChange': 0, 'newBalance': 0, 'avgOpenPrice': 0, 'assetPriceInUsd': 0, 'status': 1, 'depositInfo': None, 'withdrawalInfo': {'txId': None, 'toAddress': 'tb1qkttnq44z65020l0vwxq98cnjcu38sv7cmsvs2k', 'network': 'fireblocks-btc-test', 'withdrawalAssetId': 'BTC', 'withdrawalAmount': 0.03, 'feeAssetId': None, 'feeAmount': 0, 'isInternal': True}, 'swapInfo': None, 'withdrawalFeeInfo': None, 'receiveByPhoneInfo': None, 'transferByPhoneInfo': None}]\n"}, "start": 1641481481918, "stop": 1641481580348}], "parameters": [{"name": "_pytest_bdd_example", "value": {"assetId": "BTC", "address": "tb1qkttnq44z65020l0vwxq98cnjcu38sv7cmsvs2k"}}], "start": 1641481475895, "stop": 1641481580349, "uuid": "1ee94703-be53-6034-7af6-9b7d24105692", "historyId": "1ee94703be5360347af69b7d24105692", "fullName": "features/transfer.feature:Make a internalWithdrawal", "labels": [{"name": "host", "value": "MacBook-Pro-Apple.local"}, {"name": "thread", "value": "3611-MainThread"}, {"name": "framework", "value": "pytest-bdd"}, {"name": "language", "value": "cpython3"}, {"name": "feature", "value": "Transfer"}]}